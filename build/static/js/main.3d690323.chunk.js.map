{"version":3,"sources":["layout/Header.module.css","layout/CategoryList.module.css","layout/Footer.module.css","components/search/SearchElement.module.css","components/pricelist/PriceList.module.css","layout/Main.module.css","components/search/SearchBar.module.css","components/search/SearchCriteria.module.css","components/auth/Login.module.css","components/auth/Register.module.css","components/profile/Profile.module.css","utilities/user.js","layout/Header.jsx","layout/Main.jsx","utilities/categories.js","layout/CategoryList.jsx","layout/Footer.jsx","components/search/SearchBar.jsx","components/search/SearchElement.jsx","components/search/SearchResults.jsx","utilities/services.js","utilities/places.js","components/search/SearchCriteria.jsx","components/search/Search.jsx","components/auth/Login.jsx","components/auth/Register.jsx","components/ad/Comment.jsx","components/ad/CommentList.jsx","components/PrivateRoute/PrivateRoute.jsx","components/profile/Profile.jsx","components/pricelist/Pricelist.jsx","App.js","index.js"],"names":["module","exports","UserContext","createContext","links","to","text","Header","useContext","user","setUser","className","styles","container","title","navigation","onClick","window","localStorage","removeItem","map","link","key","Main","children","main","useCategories","useState","categories","setCategories","useEffect","fetch","then","data","json","success","catch","CategoryList","category","pathname","state","name","category_uuid","Footer","footer","href","totop","scrollTo","SearchBar","ads","filterAds","type","search","placeholder","onChange","e","tmp","filter","ad","toLowerCase","includes","target","value","all","filtered","SearchElement","ad_uuid","price","Date","created_at","toLocaleString","fullname","phone_number","src","btoa","String","fromCharCode","Uint8Array","image","alt","SearchResults","getAds","a","place","console","error","registerUser","userData","method","headers","body","JSON","stringify","loginUser","usePlaces","places","setPlaces","SearchCriteria","criteria","setCriteria","selectCriteria","id","log","place_uuid","Search","location","useLocation","setAds","Login","history","useHistory","email","password","message","setUserData","handleClick","setItem","push","form","onSubmit","preventDefault","Register","confirmPassword","Comment","CommentList","PrivateRoute","Component","component","props","from","Profile","PriceList","button","App","parse","getItem","Provider","exact","path","Ad","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3d690323.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Header_container__3kMD5\",\"title\":\"Header_title__35kMF\",\"navigation\":\"Header_navigation__ZsgPf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"categories\":\"CategoryList_categories__mpdRE\",\"title\":\"CategoryList_title__6gCe3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1zUJV\",\"totop\":\"Footer_totop__1lG2I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SearchElement_container__23oqk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"PriceList_title__2KPkE\",\"button\":\"PriceList_button__1Vtqf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__yW9aq\",\"title\":\"Main_title__3lDyR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"SearchBar_search__277g9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SearchCriteria_container__t7ERt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Login_form__1y2wU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Register_form__UqlgD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Profile_title__j71V4\"};","import { createContext } from \"react\";\r\n\r\nconst UserContext = createContext();\r\nexport default UserContext;\r\n","import React, { useContext } from 'react';\r\nimport styles from './Header.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport UserContext from '../utilities/user';\r\n\r\nconst links = [\r\n  {\r\n    to: '',\r\n    text: 'најновији огласи'\r\n  }, {\r\n    to: 'new_ad',\r\n    text: 'поставите оглас'\r\n  }, {\r\n    to: 'profile',\r\n    text: 'профил'\r\n  }\r\n];\r\n\r\nconst Header = () => {\r\n  const {user, setUser} = useContext(UserContext);\r\n  const logout = () => {\r\n    setUser(null);\r\n    window.localStorage.removeItem('userData');\r\n  }\r\n\r\n  return (\r\n    <header className={styles.container}>\r\n      <h1 className={styles.title}>трговац.цом</h1>\r\n      <nav className={styles.navigation}>\r\n        <ul>\r\n          {\r\n            user\r\n              ? <li><Link to=\"/\" onClick={logout}>одјавите се</Link></li>\r\n              :<li><Link to=\"/login\">пријавите се</Link></li>\r\n          }\r\n          {\r\n            links.map(link => (\r\n              <li key={link.to}><Link to={link.to}>{link.text}</Link></li>\r\n            ))\r\n          }\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport styles from './Main.module.css';\r\n\r\nconst Main = ({ children }) => {\r\n  return (\r\n    <main className={styles.main}>\r\n      {\r\n        children\r\n      }\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;","import { useState, useEffect } from \"react\";\r\n\r\nconst useCategories = () => {\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:4000/categories')\r\n      .then(data => data.json())\r\n      .then(json => {\r\n        if (json.success) {\r\n          setCategories(json.data);\r\n        } else {\r\n          setCategories(['Нема категорија...']);\r\n        }\r\n      })\r\n      .catch(() => setCategories(['Нема категорија...']));\r\n  }, []);\r\n\r\n  return categories;\r\n}\r\n\r\nexport default useCategories;","import React from 'react';\r\nimport styles from './CategoryList.module.css';\r\nimport useCategories from '../utilities/categories';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst CategoryList = () => {\r\n  const categories = useCategories();\r\n  return (\r\n    <nav className={styles.categories}>\r\n      <h3 className={styles.title}>категорије</h3>\r\n      <ul>\r\n        {\r\n          categories.map(category => (\r\n            <Link to={{pathname:'/', state: { category: category.name }}} key={category.category_uuid}>{category.name}</Link>\r\n          ))\r\n        }\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default CategoryList;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styles from './Footer.module.css';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className={styles.footer}>\r\n      <Link to=\"/register\">Региструјте се</Link>\r\n      <Link to=\"/pricelist\">Ценовник</Link>\r\n      <label>&copy;Абрамовић Ненад 2020</label>\r\n      <a href=\"http://localhost:4000\">АПИ Документација</a>\r\n      <span className={styles.totop} onClick={() => window.scrollTo(0, 0)}>на врх</span>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;","import React from 'react';\r\nimport styles from './SearchBar.module.css';\r\n\r\nconst SearchBar = ({ ads, filterAds }) => {\r\n  const handleChange = (e) => {\r\n    // let regex = new RegExp(e.target.value, 'gi')\r\n    let tmp = ads.filter(ad => ad.title.toLowerCase().includes(e.target.value.toLowerCase()));\r\n    filterAds({ all: ads, filtered: tmp });\r\n  }\r\n  return (\r\n    <div>\r\n      <input type=\"search\" className={styles.search} placeholder=\"тражи...\" onChange={handleChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;","import React from 'react';\r\nimport styles from './SearchElement.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst SearchElement = ({ ad }) => {\r\n  return (\r\n    <div className={styles.container}>\r\n      <div>\r\n        <Link to={`/ad/${ad.ad_uuid}`}><h3 className={styles.title}>{ad.title}</h3></Link>\r\n        <p>цена: {ad.price}</p>\r\n        <p>датум објављивања: {new Date(ad.created_at).toLocaleString(\"sr-Cyrl\")}</p>\r\n        <p>продавац: {ad.fullname}</p>\r\n        <p>број телефона: {ad.phone_number}</p>\r\n      </div>\r\n      <img src={`data:image/png;base64,${btoa(String.fromCharCode(...new Uint8Array(ad.image.data)))}`} alt={`Слика за ${ad.title}`} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchElement;","import React from 'react';\r\nimport SearchElement from './SearchElement';\r\n\r\nconst SearchResults = ({ ads }) => {\r\n  return (\r\n    <div>\r\n      {\r\n        ads.map(ad => (\r\n          <SearchElement key={ad.ad_uuid} ad={ad} />\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchResults;","const ADS = '/ads';\r\nconst USERS = '/users';\r\n\r\nconst getAds = async (category='%', place='%') => {\r\n  try {\r\n    let data = await fetch(`${ADS}?category=${category}&place=${place}`);\r\n    let json = await data.json();\r\n    return json;\r\n  } catch(e) {\r\n    console.error(e);\r\n  }\r\n}\r\n\r\nconst getAd = async (ad_uuid) => {\r\n  try {\r\n    let data = await fetch(`${ADS}/${ad_uuid}`);\r\n    let json = await data.json();\r\n    return json;\r\n  } catch(e) {\r\n    console.error(e);\r\n  }\r\n}\r\n\r\nconst registerUser = async (userData) => {\r\n  try {\r\n    let data = await fetch(`${USERS}`, {\r\n      method: 'POST',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify(userData)\r\n    });\r\n    let json = await data.json();\r\n    return json;\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n};\r\n\r\nconst loginUser = async (userData) => {\r\n  try {\r\n    let data = await fetch(`${USERS}/login`, {\r\n      method: 'POST',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify(userData)\r\n    });\r\n    let json = await data.json();\r\n    return json;\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n};\r\n\r\nexport {\r\n  getAds,\r\n  getAd,\r\n  registerUser,\r\n  loginUser,\r\n}","import { useState, useEffect } from \"react\";\r\n\r\nconst usePlaces = () => {\r\n  const [places, setPlaces] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:4000/places')\r\n      .then(data => data.json())\r\n      .then(json => {\r\n        if (json.success) {\r\n          setPlaces(json.data);\r\n        } else {\r\n          setPlaces(['Нема категорија...']);\r\n        }\r\n      })\r\n      .catch(() => setPlaces(['Нема категорија...']));\r\n  }, []);\r\n\r\n  return places;\r\n}\r\n\r\nexport default usePlaces;","import React, { useState } from 'react';\r\nimport usePlaces from '../../utilities/places';\r\nimport useCategories from '../../utilities/categories';\r\nimport styles from './SearchCriteria.module.css';\r\nimport { getAds } from '../../utilities/services';\r\n\r\nconst SearchCriteria = ({ filterAds }) => {\r\n  const places = usePlaces();\r\n  const categories = useCategories();\r\n  const [criteria, setCriteria] = useState({ category: '%', place: '%' });\r\n\r\n  const selectCriteria = (e) => {\r\n    let tmp = { ...criteria };\r\n    tmp[e.target.id] = e.target.value;\r\n    setCriteria(tmp);\r\n    getAds(tmp.category, tmp.place)\r\n      .then(data => {\r\n        if(data.success){\r\n          console.log(data);\r\n          filterAds({ all: data.data, filtered: data.data });\r\n        }\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div>\r\n      <select id=\"category\" onChange={selectCriteria}>\r\n        <option value=\"%\">изабери категорију</option>\r\n        {\r\n          categories.map(category => (\r\n            <option key={category.category_uuid} value={category.name}>{category.name.toLowerCase()}</option>\r\n          ))\r\n        }\r\n      </select>\r\n      </div>\r\n      <div>\r\n      <select id=\"place\" onChange={selectCriteria}>\r\n        <option value=\"%\">изабери место</option>\r\n      {\r\n          places.map(place => (\r\n            <option key={place.place_uuid} value={place.name}>{place.name.toLowerCase()}</option>\r\n          ))\r\n        }\r\n      </select>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchCriteria;","import React, { useEffect, useState } from 'react';\r\nimport SearchBar from './SearchBar';\r\nimport SearchResults from './SearchResults';\r\nimport { getAds } from '../../utilities/services';\r\nimport SearchCriteria from './SearchCriteria';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nconst Search = () => {\r\n  const location = useLocation();\r\n  const [ads, setAds] = useState({all:[], filtered: []});\r\n  useEffect(() => {\r\n    if(location.state) {\r\n      getAds(location.state.category)\r\n    .then(data => {\r\n      if(data.success) {\r\n      setAds({ all: data.data, filtered: data.data });\r\n      }\r\n    });\r\n    }\r\n    getAds()\r\n    .then(data => {\r\n      if(data.success) {\r\n      setAds({ all: data.data, filtered: data.data });\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <SearchBar ads={ads.all} filterAds={setAds} />\r\n      <SearchCriteria filterAds={setAds} />\r\n      <SearchResults ads={ads.filtered} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Search;","import React, { useState, useContext } from 'react';\r\nimport { loginUser } from '../../utilities/services';\r\nimport UserContext from '../../utilities/user';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport styles from './Login.module.css';\r\n\r\nconst Login = () => {\r\n  const history = useHistory();\r\n  const user = useContext(UserContext);\r\n  const [userData, setUserData] = useState({\r\n    email: '',\r\n    password: '',\r\n    message: ''\r\n  });\r\n\r\n  const handleClick = async () => {\r\n    let data = await loginUser({email: userData.email, password: userData.password });\r\n    if(data.success) {\r\n      delete data.success;\r\n      user.setUser(data);\r\n      window.localStorage.setItem('userData', JSON.stringify(data));\r\n      history.push('/');\r\n    } else {\r\n      setUserData({ ...userData, message: data.message });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form className={styles.form} onSubmit={e => e.preventDefault()}>\r\n      <h2>пријавите се</h2>\r\n      <p>{userData.message}</p>\r\n      <input type=\"email\" placeholder=\"Унесите е-маил...\" value={userData.email} onChange={e => setUserData({ ...userData, email: e.target.value })} />\r\n      <input type=\"password\" placeholder=\"Унесите шифру...\" value={userData.password} onChange={e => setUserData({ ...userData, password: e.target.value })} />\r\n      <div>\r\n        <Link to=\"/register\">региструјте се</Link>\r\n        <button type=\"submit\" onClick={handleClick} >пријавите се</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Login;","import React, { useState, useContext } from 'react';\r\nimport { registerUser } from '../../utilities/services';\r\nimport UserContext from '../../utilities/user';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport styles from './Register.module.css';\r\n\r\nconst Register = () => {\r\n  const history = useHistory();\r\n  const user = useContext(UserContext);\r\n  const [userData, setUserData] = useState({\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    message: ''\r\n  });\r\n\r\n  const handleClick = async () => {\r\n    let data = await registerUser(userData);\r\n    if(data.success) {\r\n      delete data.success;\r\n      user.setUser(data);\r\n      window.localStorage.setItem('userData', JSON.stringify(data));\r\n      history.push('/profile');\r\n    } else {\r\n      setUserData({ ...userData, message: data.message });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form className={styles.form} onSubmit={e => e.preventDefault()}>\r\n      <h2>региструјте се</h2>\r\n      <p>{userData.message}</p>\r\n      <input type=\"email\" placeholder=\"Унесите е-маил...\" value={userData.email} onChange={e => setUserData({ ...userData, email: e.target.value })} />\r\n      <input type=\"password\" placeholder=\"Унесите шифру...\" value={userData.password} onChange={e => setUserData({ ...userData, password: e.target.value })} />\r\n      <input type=\"password\" placeholder=\"Поновите шифру...\" value={userData.confirmPassword} onChange={e => setUserData({ ...userData, confirmPassword: e.target.value })} />\r\n      <div>\r\n        <Link to=\"/login\">пријавите се</Link>\r\n        <button type=\"submit\" onClick={handleClick} >региструјте се</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nconst Comment = () => {\r\n  return (\r\n    <p>Коментар</p>\r\n  );\r\n}\r\n\r\nexport default Comment;","import React from 'react';\r\nimport Comment from './Comment';\r\n\r\nconst CommentList = () => {\r\n  return (\r\n    <div>\r\n    <p>Коментари</p>\r\n    <Comment />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CommentList;","import React, { useContext } from 'react';\r\nimport { Route, Redirect, useLocation } from 'react-router-dom';\r\nimport UserContext from '../../utilities/user';\r\n\r\n\r\nconst PrivateRoute = ({ component: Component, ...props }) => {\r\n  const user = useContext(UserContext);\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <Route {...props}>\r\n      {\r\n        user.user\r\n          ? <Redirect to={{ pathname: '/login', state:{ from: location } }} />\r\n          : <Component {...props} />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport styles from './Profile.module.css';\r\n\r\nconst Profile = () => {\r\n  return (\r\n    <div>\r\n      <h2 className={styles.title}>Ваш профил</h2>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styles from './PriceList.module.css';\r\n\r\nconst PriceList = () => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div>\r\n      <h2 className={styles.title}>Све наше услуге су бесплатне! Хвала Вам на поверењу!</h2>\r\n      <button className={styles.button} onClick={e => history.push('/')}>Погледај огласе</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PriceList;","import React from 'react';\nimport './App.css';\nimport Header from './layout/Header';\nimport Main from './layout/Main';\nimport CategoryList from './layout/CategoryList';\nimport Footer from './layout/Footer';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Search from './components/search/Search';\nimport Login from './components/auth/Login';\nimport Register from './components/auth/Register';\nimport { useState } from \"react\";\nimport UserContext from './utilities/user';\nimport Ad from './components/ad/CommentList';\nimport PrivateRoute from './components/PrivateRoute/PrivateRoute';\nimport Profile from './components/profile/Profile';\nimport PriceList from './components/pricelist/Pricelist';\n\n\nfunction App() {\n  const [user, setUser] = useState(JSON.parse(window.localStorage.getItem('userData')));\n  \n  return (\n    <div className=\"App\">\n      <UserContext.Provider value={{ user, setUser }}>\n      <Router>\n        <Header />\n        <div className=\"container\">\n          <CategoryList />\n          <Main>\n            <Switch>\n              <Route exact path=\"/\" component={Search} />\n              <Route path=\"/login\" component={Login} />\n              <Route path=\"/register\" component={Register} />\n              <Route path=\"/ad/:ad_uuid\" component={Ad} />\n              <Route path=\"/user_ads/:user_uuid\" component={Search} />\n              <Route path=\"/pricelist\" component={PriceList} />\n              <PrivateRoute path=\"/profile\" component={Profile} />\n            </Switch>\n          </Main>\n        </div>\n        <Footer />\n      </Router>\n      </UserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}